---
title: Welcome
tags: TeXt
---

这里是测试
If you see this page, that means you have setup your site. enjoy! :ghost: :ghost: :ghost:

You may want to [config the site](https://tianqi.name/jekyll-TeXt-theme/docs/en/configuration) or [writing a post](https://tianqi.name/jekyll-TeXt-theme/docs/en/writing-posts) next. Please feel free to [create an issue](https://github.com/kitian616/jekyll-TeXt-theme/issues) or [send me email](mailto:kitian616@outlook.com) if you have any questions.

<!--more-->

---

If you like TeXt, don't forget to give me a star. :star2:

[![Star This Project](https://img.shields.io/github/stars/kitian616/jekyll-TeXt-theme.svg?label=Stars&style=social)](https://github.com/kitian616/jekyll-TeXt-theme/)


### awk条件语句与循环
- 参考：<https://www.runoob.com/w3cnote/awk-if-loop.html>
备注：循环的语法没有`{}`哦

### awk数组
- 参考：<https://www.runoob.com/w3cnote/awk-arrays.html>


### 实践
#### 测试mysql是否启动
```bash
#!/bin/bash
# printf "%d",$2 最好格式化输出数据类型，不然后期不好处理
port=$(netstat -ptlun | awk -F ":::" '/mysql/ { printf "%d",$2}')
# 都转化为字符串来比较，字符串外再包裹双引号，可能不能对等哦，如将上面的 %d改为%s
if [ "$port" == "3306" ]; then
    echo "mysql is running."
else
    echo "mysql is died."
fi
```

#### 杀掉redis的进程
```bash
#!/bin/bash

# 停止redis服务
# 注意prinf "\d "这里有空格哦；
# awk -F "[ /]+"设置多个分隔符，+加号表示连续的多个分隔符视为一个
pids=($(netstat -ptlun | awk -F "[ /]+"  '/redis-server/ {printf "%d ",$7}'))
for p in ${pids[@]}
do
        kill $p
done
```
